<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Update Article</title>
</head>

<body>
  <h2>Update Article</h2>
  <form action="/articles/update/<%= article._id %>" method="POST" enctype="multipart/form-data">
    <div>
      <label for="title">Title:</label>
      <input type="text" name="title" value="<%= article.title %>" required>
    </div>
    <div>
      <label for="content">Content:</label>
      <textarea name="content" rows="4" required><%= article.content %></textarea>
    </div>
    <div>
      <label for="author">Author:</label>
      <input type="text" name="author" value="<%= article.author %>" required>
    </div>
    <div>
      <label for="category">Category:</label>
      <select id="category" name="categoryId" required> <!-- Change name attribute to "categoryId" -->
        <% categories.forEach((category)=> { %>
          <option value="<%= category._id %>" <%=category._id.equals(article.category) ? 'selected' : '' %>><%=
              category.name %>
          </option> <!-- Change "article.categoryId" to "article.category" -->
          <% }); %>
      </select>
    </div>
    <div>
      <label for="description">Description:</label>
      <textarea name="description" rows="4" required><%= article.description %></textarea>
    </div>
    <img src="<%= article.imageUrl %>" alt="Article Image" style="max-width: 300px; max-height: 300px;">
    <br>
    <label for="image">Image:</label>
    <input type="file" id="image" name="image">
    <br>
    <div>
      <button type="submit">Update</button>
    </div>
  </form>
  <a href="/articles">Back to Article List</a>
</body>

</html>